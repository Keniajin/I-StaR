---
title: "Introduction to R"
subtitle: "Pwani R Workshop"
date: "8th July 2024"
output: ioslides_presentation
---

## Welcome!

-   Introductions

## Overall learning objectives and scope

- Understand basic programming syntax 
- Import and manipulate data in R
- Visualize data in R
- Explore relationships between variables

## In this session, we will:

- Introduce R and R studio
- Set up and interact with R and R Studio
- Introduce terminology and basic R syntax
- Learn about 'packages'


## What is R?

-   R is a language and environment for statistical computing and graphics developed in 1991

-   **R**oss Ihaka and **R**obert Gentleman at the University of Auckland, New Zealand developed R

-   R is both [open source](https://en.wikipedia.org/wiki/Open_source) and [open development](https://en.wikipedia.org/wiki/Open-source_software_development)

```{r, fig.alt="R Logo", out.width = "20%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://upload.wikimedia.org/wikipedia/commons/1/1b/R_logo.svg")
```

## Why R?

* Free (open source)

* High level language designed for statistical computing

* Powerful and flexible - especially for data wrangling and visualization

* Extensive add-on software (packages)

* Strong community 


## Expectations

What do you hope to get out of the class?





## Course format

 * Interactive lecture in the morning.
 * Hands-on practical experience in the afternoon.

 
## Installing R and R Studio

* Install the [latest R version](http://cran.r-project.org/) 

* [Install RStudio](https://www.rstudio.com/products/rstudio/download/)

RStudio is an **integrated development environment** (IDE) that makes it easier to work with R.

More on that soon!


## Basic terms

[Glossary of R jargon](https://link.springer.com/content/pdf/bbm%3A978-1-4419-1318-0%2F1.pdf)

**Package** - a package in R is a bundle or "package" of code (and or possibly data) that can be loaded together for easy repeated use or for **sharing** with others.

Packages are analogous to a software application like Microsoft Word on your computer. Your operating system allows you to use it, just like having R installed (and other required packages) allows you to use packages.

[[source](https://jhudatascience.org/intro_to_r/)]



## Working with R -- RStudio

RStudio is an Integrated Development Environment (IDE) for R

-   Helps you write code - makes suggestions
-   Helps you view the output of your code
-   Helps you find errors
-   Is NOT a dropdown statistical tool (such as Stata or SPSS)

```{r, fig.alt="RStudio logo", out.width = "30%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/62bcc8535a06077094ca3c29c383e37ad7334311/a263f/assets/img/logo.svg")
```

<sub>[[source](https://www.rstudio.com/)]</sub>

RStudio used to be the name of a company that is now called [Posit](https://posit.co/).

## RStudio

Easier working with R

-   Syntax highlighting, code completion, and smart indentation
-   Easily manage multiple working directories and projects

More information

-   Workspace browser and data viewer
-   Plot history, zooming, and flexible image and file export
-   Integrated R help and documentation



## RStudio

First it is important to be familiar with the layout.

```{r, fig.align='center', out.width="65%", echo = FALSE, fig.alt= "R Studio Panes"}
knitr::include_graphics("https://docs.posit.co/ide/user/ide/guide/ui/images/rstudio-panes-labeled.jpeg")
```


<!-- ## Pane 1 (Left side) for writing code -->

<!-- ```{r, fig.align='center', out.width="60%", echo = FALSE, fig.alt= "The left pane is for writing code."} -->
<!-- knitr::include_graphics("images/Pane1_for_writing.png") -->
<!-- ``` -->

<!-- ## Pane 2 - where objects will be -->

<!-- We will start seeing this tomorrow! -->

<!-- ```{r, fig.align='center', out.width="60%", echo = FALSE, fig.alt= "We we see objects"} -->
<!-- knitr::include_graphics("images/pane2.png") -->
<!-- ``` -->

<!-- ## Pane 3 - where we get help and see plots -->

<!-- ```{r, fig.align='center', out.width="60%", echo = FALSE, fig.alt= "The left pane is for writing code."} -->
<!-- knitr::include_graphics("images/pane3.png") -->
<!-- ``` -->


## Working with R in R Studio - 2 major panes:

1)  The **Source/Editor**: "Analysis" Script + Interactive Exploration
    -   Static copy of what you did (reproducibility)
    -   Top by default
2)  The **R Console**: "interprets" whatever you type
    -   Calculator
    -   Try things out interactively, then add to your editor
    -   Bottom by default

## Source / Editor

-   Where files open to
-   Have R code and comments in them

In a .R file (we call a script), code is saved on your disk

```{r, out.width = "90%", echo = FALSE}
knitr::include_graphics("https://users.phhp.ufl.edu/rlp176/Courses/PHC6089/R_notes/img/RStudio/SourceEditor.png")
```

<!-- ## Workspace/Environment ![Workspace](images/r-rstudio-1-ggplot-point-2.png) -->

## R Console

<!-- ![Console](images/rstudio_console.png) -->

```{r, out.width = "60%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://users.phhp.ufl.edu/rlp176/Courses/PHC6089/R_notes/img/RStudio/Rconsole.png")
```

-   Where code is executed (where things happen)
-   You can type here for things interactively to test code
-   Code is **not saved** on your disk

## Workspace/Environment

<!-- ![Workspace](images/rstudio_environment.png) -->

```{r, out.width = "90%", echo = FALSE}
knitr::include_graphics("https://users.phhp.ufl.edu/rlp176/Courses/PHC6089/R_notes/img/RStudio/Workspace.png")
```

## Workspace/Environment

-   Tells you what **objects** are in R
-   What exists in memory/what is loaded?/what did I read in?

**History**

-   Shows previous commands.
-   Also type the "up" key in the Console to scroll through previous commands

## Other Panes

-   **Files** - shows the files on your computer of the directory you are working in
-   **Plots** - pictures and figures
-   **Packages** - list of R packages that are loaded in memory
-   **Help** - shows help of R commands
-   **Viewer** - displays HTML content e.g interactive visualizations
-   **Presentation** - used to display HTML slides



## Basic R terms


**Function** - a function is a piece of code that allows you to do something in R. You can write your own, use functions that come directly from installing R, or use functions from additional packages.

You can think of a function as **verb** in R.

A function might help you add numbers together, create a plot, or organize your data. More on that soon!

```{r}
sum(4,3)
```

## Basic terms

 **Argument** - what you pass to a function

- can be data like the number 1 or 20234 

```{r}
sum(4, 3)
```

- can be options about how you want the function to work such as `digits`

```{r}
round(0.532, digits = 2)
```


## Basic terms


**Object** - an object is something that can be worked with or on in R - can be lots of different things! You can think of objects as **nouns** in R.

- a matrix of numbers
- a plot
- a function
- data

... many more

## Variable and Sample

- **Variable**: something measured or counted that is a characteristic about a sample

examples: temperature, length, count, color, category

- **Sample**: individuals that you have data about -

examples: people, houses, viruses etc.

```{r, echo = FALSE}
head(iris)
```


## Columns and Rows

```{r, fig.alt="R hex stickers for packages", out.width = "50%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://keydifferences.com/wp-content/uploads/2016/09/rows-vs-column.jpg")
```
[[source](https://keydifferences.com/difference-between-rows-and-columns.html)]

Sample = Row  
Variable = Column

A data object that looks like this is called a **data frame**.

## More on Functions and Packages

* When you download R, it has a "base" set of functions/packages (**base R**)  
    * You can install additional packages for your uses from [CRAN](https://cran.r-project.org/) or [GitHub](https://github.com/) 
    * These additional packages are written by RStudio or R users/developers
    * There are also packages for bioinformatics available at [Bioconductor](https://www.bioconductor.org/)

```{r, fig.alt="Picture of R package stickers", out.width = "70%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://www.lancaster.ac.uk/stor-i-student-sites/danielle-notice/wp-content/uploads/sites/38/2022/03/download-1080x380.jpg")
```

    
## Using Packages

* Not all packages available on CRAN or GitHub are trustworthy!
* Posit makes [many useful packages](https://posit.co/products/open-source/rpackages/)
* How to [trust](https://simplystatistics.org/posts/2015-11-06-how-i-decide-when-to-trust-an-r-package/) an R package
* Many packages have accompanying academic papers published in peer-reviewed journals
* Widely used packages have better documentation (official and in forums) and are more likely free of errors


## Tidyverse and Base R: Two Dialects

We will mostly show you how to use tidyverse packages and functions. 

This set of packages designed for data science make your code more **intuitive** as compared to the original older Base R.

**Tidyverse advantages**:  
 - **consistent structure** - making it easier to learn how to use different packages  
 - particularly good for **wrangling** (manipulating, cleaning, joining) data  
 - more flexible for **visualizing** data  

Tidyverse packages are managed by a team of respected data scientists at Posit.

```{r, fig.alt="Tidyverse hex sticker", out.width = "10%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://tidyverse.tidyverse.org/logo.png")
```

See this [article](https://tidyverse.tidyverse.org/articles/paper.html) for more info.

## Package Installation

We will practice this in the hands-on session

Differs depending on the source (CRAN, GitHub, etc)

Must be done **once** for each installation of R (e.g., version 4.3 >> 4.4). 

## Package Installation: R Studio Menu

tools > Install Packages

```{r, fig.alt="Install packages menu in RStudio", out.width = "35%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://i0.wp.com/makemeanalyst.com/wp-content/uploads/2017/05/InstallPackageRStudio1crop.png")
```


Type in the package name to install.

```{r, fig.alt="The 'slidify' package has been typed into the dropdown menu", out.width = "20%", echo = FALSE, fig.align='center'}
knitr::include_graphics("https://i0.wp.com/makemeanalyst.com/wp-content/uploads/2017/05/InstallPackageRStudio2.png")
```

## Package Installation: Using Code

We use a function called `install.packages()` for CRAN packages.

Here is an example where we "install" the `dplyr` package:

```{r, eval = FALSE}
install.packages("dplyr")
```

The package name is enclosed in quotation marks.

## Loading packages

After installing packages, you will need to "load" them into memory so that you can use them.

This must be done **every time** you start R.

We use a function called `library` to load packages.

Here is an example where we "load" the `dplyr` package:

```{r, eval = FALSE}
library(dplyr)
```

Quotation marks are optional.


## Help!!!

**Error messages can be scary!**

We will show you how to resolve any installation issues



## Summary

- R is a powerful data visualization and analysis software language.
- Add-on **packages** like the `tidyverse` can help make R more intuitive.
- **Functions** (like verbs) perform specific tasks in R and are found within packages.
- **Arguments** within functions specify how to perform a function.
- **Objects** (like nouns) are data or variables.
-  RStudio makes working in R easier
-  the Editor (top) is for static code like scripts or R Markdown documents
-  The console is for testing code (bottom) - best to save your code though!
